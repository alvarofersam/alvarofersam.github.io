<!doctype html>
<html lang="es">
    <head>
        <title>¿Cuánto queda de semana?</title>

        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">


        <!-- Google Tag Manager -->
        <script>
            (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
            })(window,document,'script','dataLayer','GTM-MVC6BWN');
        </script>
        <!-- End Google Tag Manager -->

        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-64908EWKC7"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());

          gtag('config', 'G-64908EWKC7');
        </script>  
        
        <script>
            let x = 0;
            function count() {
                var d = new Date();

                var dia = d.getDay();
                var dia_rest = 5 - dia;
                if (dia_rest === 0) {
                    var dia_text = "";
                } else if (dia_rest === 1) {
                    var dia_text = dia_rest + " día, "
                } else {
                    var dia_text = dia_rest + " dí­as, "
                }

                var hora = d.getHours();
                if (hora === 15) {
                    hora = 16;
                }

                if (dia_rest > 0) {
                    if (hora < 16) {
                        var hora_rest = 18 - hora - 2;
                    } else if (hora >= 16) {
                        var hora_rest = 18 - hora - 1;
                    } else if (hora > 17) {
                        var hora_rest = 0;
                    }
                } else {
                    var hora_rest = 15 - hora - 1;
                }

                if (hora_rest === 0) {
                    var hora_text = "";
                } else if (hora_rest === 1) {
                    var hora_text = hora_rest + " hora, "
                } else {
                    var hora_text = hora_rest + " horas, "
                }

                var min = d.getMinutes();

                if (hora === 15) {
                    min_rest = 0;
                } else {
                    var min_rest = 60 - min -1;
                }

                if (min_rest === 0) {
                    var min_text = "";
                } else {
                    var min_text = min_rest + " min, "
                }

                var seg = d.getSeconds();
                var seg_rest = 60 - seg;
                var seg_text = seg_rest + " seg"
                
                var text = dia_text + hora_text + min_text + seg_text;
                if (dia_rest > 0) {
                    var porcentaje = (((((dia_rest-1) * 8.5) + 7 + hora_rest)*3600 + min_rest*60 + seg_rest) / 3600) * 100 / 41;
                } else {
                    var porcentaje = ((hora_rest *3600 + min_rest*60 + seg_rest) / 3600) * 100 / 41;
                }

                var frases_a1 = ["No te impacientes! Aún quedan:",
                    "Tranquilo! Todaví­a quedan:",
                    "No te impacientes. Sigue faltando:"]
                var frases_a2 = ["No insistas. Aún queda:",
                    "Respira hondo. Falta:",
                    "Controla tu ansiedad. Aún falta:"]

                var frases_c1 = ["<i>No te han dicho que 'el trabajo dignifica'?</i>",
                    "<i>Recuerda que 'el trabajo es el mejor remedio para el tedio'</i>",
                    "<i>Piensa que 'el mejor remedio contra todos los males es el trabajo'</i>",
                    "<i>No te olvides de 'confiar más en el trabajo que en la suerte'</i>",
                    "<i>Recuerda:<br>'Tú no eres tu currículum, eres tu trabajo'</i>",
                    "<i>Has oído que 'el éxito sólo llega antes que el trabajo en el diccionario'?</i>"]
                var frases_c2 = ["<i>Sabías que 'trabajar duro por algo que amamos se llama pasión'?</i>",
                    "<i>Proverbio chino:<br>'Lo bueno del trabajo en equipo es que siempre puedes echar la culpa a otro'</i>",
                    "<i>Alguien dijo:<br>'Mira si será malo el trabajo, que deben pagarte para que lo hagas'</i>",
                    "<i>Proverbio taiwanés:<br>'El trabajo más productivo es el que sale de las manos de una persona contenta'</i>",
                    "<i>Proverbio woohaní:<br>'Tus clientes más insatisfechos deben ser tu mayor fuente de aprendizaje'</i>",
                    "<i>Ten en cuenta que 'el denominador común para el éxito es el trabajo'</i>"]
                    
                var frases_boton1 = ["Volver a actualizar", "Insisto en actualizar"]
                var frases_boton2 = ["Actualiza de nuevo!", "Que actualices!"]
                
                let frase_a     = '',
                    frase_c     = '',
                    frase_boton = '';

                if (x === 0) {
                    document.querySelector('#a').innerHTML = "Quedan:";
                    document.querySelector('#boton').innerHTML = "Actualiza";
                    
                } else if (x % 2 === 0) {
                    random_a1 = Math.floor(Math.random() * (frases_a1.length));
                    random_c1 = Math.floor(Math.random() * (frases_c1.length));
                    random_boton1 = Math.floor(Math.random() * (frases_boton1.length));

                    frase_a = frases_a1[random_a1];
                    frase_c = frases_c1[random_c1];
                    frase_boton = frases_boton1[random_boton1];

                } else {
                    random_a2 = Math.floor(Math.random() * (frases_a2.length));
                    random_c2 = Math.floor(Math.random() * (frases_c2.length));
                    random_boton2 = Math.floor(Math.random() * (frases_boton2.length));

                    frase_a = frases_a2[random_a2];
                    frase_c = frases_c2[random_c2];
                    frase_boton = frases_boton2[random_boton2];
                }
                document.querySelector('#a').innerHTML = frase_a;
                document.querySelector('#d').innerHTML = frase_c;
                document.querySelector('#boton').innerHTML = frase_boton;

                document.querySelector('#b').innerHTML = text;
                document.querySelector('#c').innerHTML = porcentaje.toFixed(4) + " %";
                x++;
            }
        </script>
    </head>
    <body>
        <!-- Google Tag Manager (noscript) -->
        <noscript>
            <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MVC6BWN" height="0" width="0" style="display:none;visibility:hidden"></iframe>
        </noscript>
        <!-- End Google Tag Manager (noscript) -->

        <div class="container">
            <div class="form-control m-3 p-3 bg-light d-flex flex-column justify-content-center">
                <div id="a" class="text-dark fs-2" style="text-align: center;">¿Cuánto queda de semana?</div>
                <div id="b" class="text-danger fs-1" style="text-align: center;"></div>
                <div id="c" class="text-success fs-3 mt-3" style="text-align: center;"></div>
                <div id="d" class="text-muted fs-4 mt-3" style="text-align: center;"></div>
            </div>                
            <div class="mt-3 mb-1 d-flex justify-content-center">
                <button id="boton" onclick="count()" type="button" class="btn btn-primary">Calcular</button>
            </div>
        </div>
    </body>
</html>

